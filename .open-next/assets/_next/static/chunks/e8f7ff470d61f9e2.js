(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84831,e=>{"use strict";var t=e.i(43476),n=e.i(932),a=e.i(71645),o=e.i(98688),r=e.i(71929);function i(e){let i,s,l,c,d,u=(0,n.c)(14),{children:p}=e,[m,f]=(0,a.useState)(!1),{addAffection:h,addMessage:g,setAction:b,setEmotion:v}=(0,o.useStore)(),{playSound:x}=(0,r.useSoundManager)();u[0]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{e.preventDefault(),f(!0)},u[0]=i):i=u[0];let y=i;u[1]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{f(!1)},u[1]=s):s=u[1];let S=s;u[2]!==h||u[3]!==g||u[4]!==x||u[5]!==b||u[6]!==v?(l=async e=>{e.preventDefault(),f(!1);let t=Array.from(e.dataTransfer.files);if(0===t.length)return;let n=t[0];n.type.startsWith("image/")?(h(5),v("happy"),b("clap"),x("success"),g({role:"assistant",content:`[emotion:happy] [action:clap] å“‡ï¼æ˜¯æ–°å›¾ç‰‡å—ï¼Ÿå¥½æ¼‚äº®ï¼(æ”¶åˆ°ç¤¼ç‰©: ${n.name})`,id:Date.now().toString()})):n.type.startsWith("audio/")?(h(5),v("relaxed"),b("dance"),x("success"),g({role:"assistant",content:`[emotion:relaxed] [action:dance] è¿™æ˜¯ä»€ä¹ˆæ­Œï¼Ÿå¬èµ·æ¥ä¸é”™å‘¢~(æ”¶åˆ°ç¤¼ç‰©: ${n.name})`,id:Date.now().toString()})):(h(2),v("neutral"),b("nod"),x("pop"),g({role:"assistant",content:`[emotion:neutral] [action:nod] å—¯ï¼Ÿè¿™æ˜¯ç»™æˆ‘çš„æ–‡ä»¶å—ï¼Ÿè°¢è°¢ä½ ã€‚(æ”¶åˆ°ç¤¼ç‰©: ${n.name})`,id:Date.now().toString()}))},u[2]=h,u[3]=g,u[4]=x,u[5]=b,u[6]=v,u[7]=l):l=u[7];let D=l;return u[8]!==m?(c=m&&(0,t.jsx)("div",{className:"absolute inset-0 bg-pink-500/20 z-50 flex items-center justify-center pointer-events-none border-4 border-pink-400 border-dashed m-4 rounded-3xl",children:(0,t.jsx)("div",{className:"text-white text-2xl font-bold bg-pink-500 px-6 py-3 rounded-full shadow-lg",children:"ðŸŽ æŠ•å–‚ç¤¼ç‰©"})}),u[8]=m,u[9]=c):c=u[9],u[10]!==p||u[11]!==D||u[12]!==c?(d=(0,t.jsxs)("div",{onDragOver:y,onDragLeave:S,onDrop:D,className:"relative w-full h-full",children:[p,c]}),u[10]=p,u[11]=D,u[12]=c,u[13]=d):d=u[13],d}e.s(["default",()=>i])},22601,e=>{e.n(e.i(84831))}]);